{% extends 'base.html.twig' %}

{% block body %}
  <div class="row">
    <h1 class="h3">{{ arc.name|capitalize }}</h1>
    {% if arc.description %}
      <small class="description">{{ arc.description }}</small>
    {% endif %} 
    <hr>
    <div class="mt-3 d-flex justify-content-between">
      <h2 class="h5 mb-0">Liste des questions</h2>
      <div class="btn-group" role="group" aria-label="Actions sur les questions">
        <button type="button" data-href="/arc" title="Ajouter une question" class="btn btn-primary">
          <i class="bi bi-plus-lg"></i>
        </button>
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-primary dropdown-toggle" title="Nombre de questions" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-sort-numeric-down-alt"></i>
          </button>
          <ul class="dropdown-menu">
            <li><a data-filter data-filter-name="nbItems" data-filter-value="10" class="dropdown-item" href="#">10</a></li>
            <li><a data-filter data-filter-name="nbItems" data-filter-value="15" class="dropdown-item" href="#">15</a></li>
            <li><a data-filter data-filter-name="nbItems" data-filter-value="20" class="dropdown-item" href="#">20</a></li>
          </ul>
        </div>
      </div>
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nom</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for question in paginatedQuestions %}
          <tr>
            <th scope="col">{{ question.id }}</th>
            <td>{{ question.name }}</td>
            <td></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="d-flex justify-content-between mt-4">
      <div class="result-infos">
        {# TODO: afficher le nombre de résultats pour voir la progression #}
        <span class="fw-bold">{{ paginatedQuestions.items|length }}</span>
        résultats sur 
        {{ paginatedQuestions.getTotalItemCount }}
      </div>
      <div class="pagination-wrap hstack">
        {{ knp_pagination_render(paginatedQuestions) }}
      </div>
    </div>
  </div>
{% endblock %}